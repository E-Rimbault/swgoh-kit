<!DOCTYPE html>
<html lang="en">

<head>
    <title id="big-title">Imperial Probe Droid</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="author" content="Rimbault Enzo">
    <link rel="icon" type="image/png" href="../image-perso/droide-sonde-imperial/droide-sonde-imperial-image.png">
    <link rel="stylesheet" href="../style/unit-style.css">
</head>

<body class="simple">
    <header class="perso" style="display: flex; align-items: center;">
        <div style="flex: 0 0 20%; display: flex; justify-content: center; align-items: center;">
            <img src="../image-perso/droide-sonde-imperial/droide-sonde-imperial-image.png" alt="Imperial Probe Droid" style="max-width: 100%; max-height: 100%;">
        </div>
        <div style="flex: 1; padding-left: 20px;">
            <!-- Sélecteur de langue -->
            <div class="language-switcher">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Flag_of_France.svg" alt="Français"
                    id="lang-fr"
                    style="cursor:pointer; width:32px; height:32px; border:2px solid transparent; border-radius:50%;">
                <img src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg" alt="English"
                    id="lang-en"
                    style="cursor:pointer; width:32px; height:32px; border:2px solid transparent; border-radius:50%;">
            </div>

            <h1 id="title"><u>Imperial Probe Droid</u></h1>
            <p id="description">
                Imperial Droid who reveals and tracks enemies with Target Lock
            </p>
            <br>

            <nav class="perso" style="font-size: 20px;">
                <a class="capacite" style="color: red !important" href="../classement-perso/coté-obscur.html" id="darkside">Dark Side</a>
                <a class="class" href="../classement-perso/soutien.html" id="support">Suport</a>
                <a class="capacite" href="../classement-perso/droïde.html" id="droide">Droïd</a>
                <a class="capacite" href="../classement-perso/empire.html" id="empire">Empire</a>
                <a class="capacite" href="../classement-perso/bsi.html" id="isb">ISB</a>
            </nav>
        </div>
    </header>
    <br>

    <img class="first" src="../image-perso/droide-sonde-imperial/droide-sonde-imperial.png" alt="Imperial Probe Droid"><br>

    <!-- Capacités -->

    <h2 class="titre" id="basic-attack-title"><u>Basic Attack: Precision Blasters</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Imperial Probe Droid basic" src="../image-perso/droide-sonde-imperial/droide-sonde-imperial-basic.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="basic-attack">
                Deal Physical damage to target enemy with a 80% chance to Expose them for 2 turns.
            </p>
        </div>
    </div>

    <h2 class="titre" id="special-attack1-title"><u>Special Attack : Detect (cooldown: 4)</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Imperial Probe Droid special 1" src="../image-perso/droide-sonde-imperial/droide-sonde-imperial-spe1.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="special-attack1">
                Dispel all buffs on all enemies with a 75% chance to inflict Target Lock for 2 turns. Then, remove 5% Turn Meter from Target Locked enemies. This attack can't be Evaded.
            </p>
        </div>
    </div>

    <h2 class="titre" id="special-attack2-title"><u>Special Attack : Self-Destruct (cooldown: 1)</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Imperial Probe Droid special 2" src="../image-perso/droide-sonde-imperial/droide-sonde-imperial-spe2.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="special-attack2">
                Imperial Probe Droid instantly defeats itself. Deal massive damage to target enemy. Deal bonus damage to other enemies equal to 30% of their Max Health. Expose all Target Locked enemies for 2 turns. This attack can't be Evaded. While Imperial Probe Droid has full Health, or has no active allies, the cooldown of this ability is set to max and can't be reduced.
            </p>
        </div>
    </div>

    <h2 class="titre"><u id="unique-ability1-title">Unique Ability : Imperial Logistics</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Imperial Probe Droid unique 1" src="../image-perso/droide-sonde-imperial/droide-sonde-imperial-unique1.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="unique-ability1">
                Imperial Probe Droid has +50% Max Health. At the end of each Droid ally turn, at the end of each Empire ally turn, and at the end of each Rebel enemy turn, Imperial Probe Droid gains 3% Turn Meter.
                <br><br>
                While Imperial Probe Droid is active, Target Locked enemies have -25% Evasion and can't gain buffs.
                <br><br>
                <u class="omicron">Omicron Boost : While in Territory Battles:</u> At the start of battle, Imperial Probe Droid loses all Protection and gains that much Max Health. Imperial Probe Droid revives with 100% Health after using <u class="speciale">Self-Destruct</u> and ignores Taunt effects. At the start of each encounter, Imperial Probe Droid is revived with 100% Health. Whenever Imperial Probe Droid uses <u class="speciale">Self-Destruct</u>, the target enemy takes additional damage equal to 200% of Imperial Probe Droid's Max Health and other Empire allies gain Offense equal to 300% of Imperial Probe Droid's Offense (stacking) until they're defeated.
            </p>
        </div>
    </div>

    <h2 class="titre"><u id="unique-ability2-title">Unique Ability : Chain of Command</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Imperial Probe Droid unique 2" src="../image-perso/droide-sonde-imperial/droide-sonde-imperial-unique2.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="unique-ability2">
                Imperial Probe Droid gains a Rank whenever it Exposes a Target Locked enemy. Whenever Imperial Probe Droid is defeated, its Rank is reset to Rank 1.
                <br><br>
                If all allies are ISB and there is another Rank 3 ISB ally, Imperial Probe Droid revives at full Health and Protection whenever defeated, which can't be prevented. If Major Partagaz is the ally in the Leader slot, all Imperial Probe Droid's chance effects are increased to 100%.
                <br><br>
                - At Rank 2, whenever Imperial Probe Droid is defeated, inflict all enemies with Healing Immunity for 1 turn, which can't be resisted<br>
                - At Rank 3, Healing Immunity can't be dispelled
            </p>
        </div>
    </div>

    <footer>
        <button onclick="scrollToTop()" id="scrollBtn" title="Go to top">Top</button>
        <script src="../javascript/bouton.js"></script>

        <!-- SCRIPT DE TRADUCTION -->
        <script>
            // Dictionnaire français
            const translationsFr = {
                "big-title": "Droïde Sonde Impérial",
                "title": "<u>Droïde Sonde Impérial</u>",
                "description": "Droïde de l'Empire qui expose et pourchasse ses ennemis grâce au verrouillage.",
                "darkside": "Coté Obscur",
                "support": "Soutien",
                "droïd": "Droïde",
                "empire": "Empire",
                "isb": "BSI",

                "basic-attack-title": "<u>Attaque Basique: Blaster de précision</u>",
                "basic-attack": "Inflige des dégâts physiques à une cible ennemie, avec 80 % de chances de l'exposer pendant 2 tours.",

                "special-attack1-title": "<u>Attaque Spéciale : Détection (délai : 4)</u>",
                "special-attack1": "dissipe toutes les améliorations de tous les ennemis, avec 75 % de chances d'infliger le Verrouillage pendant 2 tours. Ensuite, réduit la jauge de tour des ennemis verrouillés de 5 %. Cette attaque ne peut pas être esquivée.",

                "special-attack2-title": "<u>Attaque Spéciale : Autodestruction (délai : 1)</u>",
                "special-attack2": "Le Droïde Sonde Impérial se sacrifie instantanément. Inflige de lourds dégâts à la cible ennemie. INflige des dégâts bonus à hauteur de 30 % de leur santé maximale. Expose tous les ennemis Verrouillés pendant 2 tours. Cette attaque ne peut pas être esquivée. Tant que le Droïde Sonde Impérial dispose de toute sa santé, ou qu'il n'a pas d'alliés actif, le délai de cette capacité est au maximum et ne peut pas être diminué.",

                "unique-ability1-title": "<u>Capacité Unique : Logistique impériale</u>",
                "unique-ability1": "Le Droïde Sonde Impérial a +50 % à la santé maximale. A la fin du tour de chaque allié Droïde, et de chaque ennemi rebelle, la jauge de tour du Droïde Sonde Impérial se remplit de 3 %.\n\nTant que le Droïde Sonde Impérial est actif, les ennemis verouillés ont -25 % d'esquive et ne peut pas obtenir d'améliorations.\n\n<u class='omicron'>Amélioration Omicron : Dans les Batailles de territoire :</u> Au début de la bataille, le Droïde Sonde Impérial perd toute sa protection et obtient le même montant de santé maximale. Le Droïde Sonde Impérial est réanimé avec 100 % de santé après avoir utilisé <u class ='speciale'>Autodestruction</u> et ignore les effets de Raillerie. Au début de chaque affrontement, le Droïde Sonde Impérial est réanimé avec 100 % de santé. Chaque fois que le Droïde Sonde Impérial utilise <u class='speciale'>Autodestruction</u>, la cible ennemie subit des dégâts supplémentaires à hauteur de 200 % de la santé maximale du Droïde Sonde Impérial et les autres alliés de l'Empire obtiennent de l'attaque à hauteur de 300 % de l'attaque du Droïde Sonde Impérial (cumulatif) jusqu'à ce qu'ils soient vaincus.",

                "unique-ability2-title": "<u>Capacité Unique : Chaîne de commandement</u>",
                "unique-ability2": "Le Droïde Sonde Impérial gagne un rang à chaque fois qu'il inflige Exposition à un ennemi subissant Verouillage. Chaque fois que le Droïde Sonde Impérial est vaincu, son rang est réinitialisé au rang 1.\n\nSi tous les alliés sont du B.S.I et qu'il y a un autre allié du B.S.I de rang 3, le Droïde Sonde Impérial est ranimé avec toute sa santé et sa protection à chaque fois qu'il est vaincu (ne peut pas être empêché). Si le Major Partagaz est l'allié dans l'emplacement de chef, tous les effets de chance du Droïde Sonde Impérial sont augmentés à 100%.\n\n- Au rang 2, chaque fois que le Droïde Sonde Impérial est vaincu, inflige Immunité aux soins à tous les ennemis pendant 1 tour (ne peut pas être résisté).\n-Au rang 3, immunité aux soins ne peut pas être dissipée.",
            };

            const originalTexts = {};

            function saveOriginalTexts() {
                for (const id in translationsFr) {
                    const el = document.getElementById(id);
                    if (el) originalTexts[id] = el.innerHTML;
                }
            }

            function replaceNewLinesWithBr(text) {
                return text.replace(/\n\s*\n/g, '<br><br>').replace(/([^\n])\n([^\n])/g, '$1<br>$2');
            }

            function switchLanguageTo(lang) {
                sessionStorage.setItem("selectedLanguage", lang);

                if (lang === "fr") {
                    for (const [id, text] of Object.entries(translationsFr)) {
                        const el = document.getElementById(id);
                        if (el) el.innerHTML = replaceNewLinesWithBr(text);
                    }
                } else if (lang === "en") {
                    for (const [id, text] of Object.entries(originalTexts)) {
                        const el = document.getElementById(id);
                        if (el) el.innerHTML = text;
                    }
                }

                updateFlagActive();
            }

            function updateFlagActive() {
                const lang = sessionStorage.getItem("selectedLanguage") || "en";
                document.getElementById("lang-en").style.borderColor = (lang === "en" ? "#007bff" : "transparent");
                document.getElementById("lang-fr").style.borderColor = (lang === "fr" ? "#007bff" : "transparent");
            }

            // ✅ Tout est dans "load" → le DOM est prêt avant exécution
            window.addEventListener("load", () => {
                saveOriginalTexts();
                const lang = sessionStorage.getItem("selectedLanguage") || "en";
                switchLanguageTo(lang);

                document.getElementById("lang-fr").addEventListener("click", () => switchLanguageTo("fr"));
                document.getElementById("lang-en").addEventListener("click", () => switchLanguageTo("en"));
            });
        </script>

    </footer>
</body>

</html>