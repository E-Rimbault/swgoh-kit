<!DOCTYPE html>
<html lang="en">

<head>
    <title id="big-title">Ahsoka Tano (Snips)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="author" content="Rimbault Enzo">
    <link rel="icon" type="image/png" href="../image-perso/ahsoka-tano/Ahsoka-image.png">
    <link rel="stylesheet" href="../style/unit-style.css">
</head>

<body class="simple">
    <header class="perso" style="display: flex; align-items: center;">
        <div style="flex: 0 0 20%; display: flex; justify-content: center; align-items: center;">
            <img src="../image-perso/ahsoka-tano/Ahsoka-image.png" alt="Ahsoka Tano"
                style="max-width: 100%; max-height: 100%;">
        </div>
        <div style="flex: 1; padding-left: 20px;">
            <!-- Sélecteur de langue -->
            <div class="language-switcher">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Flag_of_France.svg" alt="Français"
                    id="lang-fr"
                    style="cursor:pointer; width:32px; height:32px; border:2px solid transparent; border-radius:50%;">
                <img src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg" alt="English"
                    id="lang-en"
                    style="cursor:pointer; width:32px; height:32px; border:2px solid transparent; border-radius:50%;">
            </div>

            <h1 id="title"><u>Ahsoka Tano (Snips)</u></h1>
            <p id="description">Versatile Attacker who constantly assists while healing and dispelling</p>
            <br>

            <nav class="perso" style="font-size: 20px;">
                <a class="capacite" style="color:blue !important" href="../classement-perso/coté-lumineux.html"
                    id="lightSide">Light Side</a>
                <a class="class" href="../classement-perso/attaquant.html" id="attacker">Attacker</a>
                <a class="capacite" href="../classement-perso/chef.html" id="leader">Leader</a>
                <a class="capacite" href="../classement-perso/501E.html" id="501e">501ST</a>
                <a class="capacite" href="../classement-perso/république-galactique.html"
                    id="Galactic-Republic">Galactic Republic</a>
                <a class="capacite" href="../classement-perso/jedi.html" id="jedi">Jedi</a>
                <a class="pilote" href="../classement-perso/membres-équipages.html" id="crew-members">Crew Members</a>
            </nav>
        </div>
    </header>
    <br>

    <img class="first" src="../image-perso/ahsoka-tano/Ahsoka.png" alt="Ahsoka Tano"><br>

    <!-- Capacités -->
    <h2 class="titre" id="basic-attack-title"><u>Basic Attack: Focused Slash</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Ahsoka Tano basic" src="../image-perso/ahsoka-tano/ahsoka-basic.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="basic-attack">
                Deal Physical damage to target enemy and dispel all buffs on them. On a critical hit, dispel all debuffs
                on Ahsoka and another random Galactic Republic ally. This attack can't be evaded if the target has
                Foresight. If another 501st ally is present, Ahsoka also recovers 15% Health.
            </p>
        </div>
    </div>

    <h2 class="titre" id="special-attack1-title"><u>Special Attack: Protective Maneuver (cooldown: 3)</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Ahsoka Tano Spé 1" src="../image-perso/ahsoka-tano/ahsoka-spe.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="special-attack1">
                Deal Physical damage to target enemy. If Jedi Knight Anakin or General Kenobi is an ally, deal damage
                again, and if both are allies, deal damage a third time. If the ally leader is Galactic Republic, this
                attack deals 50% more damage. All allies recover 20% Health and all Galactic Republic allies gain
                Protection Up (20%) for 1 turn.
            </p>
        </div>
    </div>

    <h2 class="titre"><u id="lead-ability-title">Leader Ability: Quick Steps</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Ahsoka Tano lead" src="../image-perso/ahsoka-tano/ahsoka-lead.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="lead-ability">
                Jedi and Nightsister allies have +14% Evasion, and gain 20% Turn Meter whenever they Evade.
            </p>
        </div>
    </div>

    <h2 class="titre"><u id="unique-ability-title">Unique Ability: Daring Padawan</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Ahsoka Tano unique" src="../image-perso/ahsoka-tano/ahsoka-unique.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="unique-ability">
                Ahsoka has +40% Max Health, +10% Evasion, +10% Critical Chance, and +25 Speed. These values are doubled
                while she has Critical Hit Immunity.
                <br><br>
                If Jedi Knight Anakin is an ally, Ahsoka gains Critical Hit Immunity for 2 turns at the start of each
                encounter and whenever she uses a Special ability.
                <br><br>
                If the ally leader is Galactic Republic, Ahsoka is called to assist whenever another Galactic Republic
                ally uses a Special ability.
            </p>
        </div>
    </div>

    <footer>
        <button onclick="scrollToTop()" id="scrollBtn" title="Go to top">Top</button>
        <script src="../javascript/bouton.js"></script>

        <!-- SCRIPT DE TRADUCTION -->
        <script>
            // Dictionnaire français
            const translationsFr = {
                "big-title": "Ahsoka Tano (Chipie)",
                "title": "<u>Ahsoka Tano (Chipie)</u>",
                "description": "Attaquant polyvalent qui vient sans cesse en aide à ses alliés, tout en les soignant et en dissipant leurs affaiblissements.",
                "lightSide": "Côté Lumineux",
                "attacker": "Attaquant",
                "leader": "Chef",
                "501e": "501E",
                "Galactic-Republic": "République Galactique",
                "jedi": "Jedi",
                "crew-members": "Membres d'Équipage",
                "basic-attack-title": "<u>Attaque Basique : Taillade Contrôlée</u>",
                "basic-attack": "Inflige des dégâts physiques à une cible ennemie et dissipe toutes ses améliorations. En cas de coup critique, dissipe tous les affaiblissements en cours sur Ahsoka et un autre allié aléatoire de la République Galactique. Cette attaque ne peut pas être esquivée si la cible dispose de prévoyance. Si un autre allié de la 501E est présent, Ahsoka récupère 15% de santé.",
                "special-attack1-title": "<u>Attaque Spéciale : Manœuvre de Protection (délai : 3)</u>",
                "special-attack1": "Inflige des dégâts physiques à une cible ennemie. Si le Chevalier Jedi Anakin ou le Général Kenobi sont des alliés, inflige des dégâts supplémentaires et si les deux sont des alliés, inflige des dégâts une troisième fois. Si le chef allié appartient à la République Galactique, cette attaque inflige 50% de dégâts en plus. Tous les alliés récupèrent 20% de santé et tous les alliés de la République Galactique obtiennent une hausse de protection (20%) pendant 1 tour.",
                "lead-ability-title": "<u>Capacité de Chef : Grandes Foulées</u>",
                "lead-ability": "Les alliés Jedi et Sœurs de la Nuit gagnent un bonus d'esquive de 14% et remplissent leur jauge de tour de 20% à chaque esquive.",
                "unique-ability-title": "<u>Capacité Unique : Padawan Téméraire</u>",
                "unique-ability": "Ahsoka a +40% de santé maximale, +10% d'esquive, +10% de chance de coup critique et +25% de vitesse. Ces valeurs sont doublées lorsqu'elle dispose de l'immunité aux coups critiques.<br><br>Si le Chevalier Jedi Anakin est un allié, Ahsoka obtient l'immunité aux coups critiques pendant 2 tours au début de chaque affrontement et lorsqu'elle utilise une capacité spéciale.\n\nSi le chef allié appartient à la République Galactique, Ahsoka est invoquée à chaque fois qu'un autre allié de la République Galactique utilise une capacité spéciale."
            };

            const originalTexts = {};

            function saveOriginalTexts() {
                for (const id in translationsFr) {
                    const el = document.getElementById(id);
                    if (el) originalTexts[id] = el.innerHTML;
                }
            }

            function replaceNewLinesWithBr(text) {
                return text.replace(/\n\s*\n/g, '<br><br>').replace(/([^\n])\n([^\n])/g, '$1<br>$2');
            }

            function switchLanguageTo(lang) {
                sessionStorage.setItem("selectedLanguage", lang);

                if (lang === "fr") {
                    for (const [id, text] of Object.entries(translationsFr)) {
                        const el = document.getElementById(id);
                        if (el) el.innerHTML = replaceNewLinesWithBr(text);
                    }
                } else if (lang === "en") {
                    for (const [id, text] of Object.entries(originalTexts)) {
                        const el = document.getElementById(id);
                        if (el) el.innerHTML = text;
                    }
                }

                updateFlagActive();
            }

            function updateFlagActive() {
                const lang = sessionStorage.getItem("selectedLanguage") || "en";
                document.getElementById("lang-en").style.borderColor = (lang === "en" ? "#007bff" : "transparent");
                document.getElementById("lang-fr").style.borderColor = (lang === "fr" ? "#007bff" : "transparent");
            }

            // ✅ Tout est dans "load" → le DOM est prêt avant exécution
            window.addEventListener("load", () => {
                saveOriginalTexts();
                const lang = sessionStorage.getItem("selectedLanguage") || "en";
                switchLanguageTo(lang);

                document.getElementById("lang-fr").addEventListener("click", () => switchLanguageTo("fr"));
                document.getElementById("lang-en").addEventListener("click", () => switchLanguageTo("en"));
            });
        </script>

    </footer>
</body>

</html>