<!DOCTYPE html>
<html lang="en">

<head>
    <title id="big-title">Canderous Ordo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="author" content="Rimbault Enzo">
    <link rel="icon" type="image/png" href="../image-perso/canderous/canderous.png">
    <link rel="stylesheet" href="../style/unit-style.css">
</head>

<body class="simple">
    <header class="perso" style="display: flex; align-items: center;">
        <div style="flex: 0 0 20%; display: flex; justify-content: center; align-items: center;">
            <img src="../image-perso/canderous/canderous.png" alt="" style="max-width: 100%; max-height: 100%;">
        </div>
        <div style="flex: 1; padding-left: 20px;">
            <!-- Sélecteur de langue -->
            <div class="language-switcher">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Flag_of_France.svg" alt="Français"
                    id="lang-fr"
                    style="cursor:pointer; width:32px; height:32px; border:2px solid transparent; border-radius:50%;">
                <img src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg" alt="English"
                    id="lang-en"
                    style="cursor:pointer; width:32px; height:32px; border:2px solid transparent; border-radius:50%;">
            </div>

            <h1 id="title"><u>Canderous Ordo</u></h1>
            <p id="description">
                Powerful attacker who can make short work of enemy Tanks
            </p>
            <br>

            <nav class="perso" style="font-size: 20px;">
                <a class="capacite" style="color: red !important" href="../classement-perso/coté-obscur.html" id="darkside">Dark Side</a>
                <a class="class" href="../classement-perso/attaquant.html" id="attacker">Attacker</a>
                <a class="capacite" href="../classement-perso/mandalorien.html" id="mandalorian">Mandalorian</a>
                <a class="capacite" href="../classement-perso/mercenaire.html" id="mercenary">Mercenary</a>
                <a class="capacite" href="../classement-perso/ancienne-république.html" id="old-republic">Old Republic</a>
                <a class="capacite" href="../classement-perso/vaurien.html" id="scoundrel">Scoundrel</a>
            </nav>
        </div>
    </header>
    <br>

    <img class="first" src="../image-perso/canderous/canderous-image.png" alt="Canderous Ordo">

    <!-- Capacités -->
    
    <h2 class="titre" id="basic-attack-title"><u>Basic Attack: Interminable Assault</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="canderous basique" src="../image-perso/canderous/canderous-basic.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="basic-attack">
                Deal Physical damage and attack again. If the enemy had Protection before this attack, Canderous attacks for a third time and inflicts Tenacity Down for 2 turns.
            </p>
        </div>
    </div>

    <h2 class="titre" id="special-attack1-title"><u>Special Attack : Overwhelming Firepower (cooldown: 3)</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="canderous speciale" src="../image-perso/canderous/canderous-spe.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="special-attack1">
                Deal Physical damage to all enemies and inflict Offense Down for 2 turns. This attack ignores Defense.
            </p>
        </div>
    </div>

    <h2 class="titre"><u id="unique-ability1-title">Unique Ability : Mandalorian Veteran</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Canderous unique" src="../image-perso/canderous/canderous-unique.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="unique-ability1">
                At the start of battle, Canderous gains 10% Health Steal and Potency for each Mandalorian, Old Republic, and Scoundrel ally. Whenever Canderous deals damage to an enemy, he inflicts a Damage Over Time effect for 2 turns.
            </p>
        </div>
    </div>

    <h2 class="titre"><u id="unique-ability2-title">Unique Ability : I Like a Challenge</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="canderous unique 2" src="../image-perso/canderous/canderous-unique2.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="unique-ability2">
                Canderous deals 50% more damage with Interminable Assault and Overwhelming Firepower to enemies who are Taunting, Deathmarked or Marked. Whenever an enemy is damaged by an attack, Canderous gains 8% Turn Meter. When an enemy gains Taunt, or becomes Deathmarked or Marked, Canderous gains Critical Chance Up and Critical Damage Up for 2 turns.
            </p>
        </div>
    </div>

    <footer>
        <button onclick="scrollToTop()" id="scrollBtn" title="Go to top">Top</button>
        <script src="../javascript/bouton.js"></script>

        <!-- SCRIPT DE TRADUCTION -->
        <script>
            // Dictionnaire français
            const translationsFr = {
                "big-title": "Canderous Ordo",
                "title": "<u>Canderous Ordo</u>",
                "description": "Puissant attaquant qui peut neutraliser les tanks ennemis en un rien de temps",
                "darkside": "Coté Obscur",
                "attacker": "Attaquant",
                "mandalorian": "Mandalorien",
                "mercenary": "Mercenaire",
                "old-republic": "Ancienne République",
                "scoundrel": "Vaurien",
                "basic-attack-title": "<u>Attaque Basique : assaut Interminable</u>",
                "basic-attack" : "Inflige des dégâts physiques et une attaque supplémentairs. Si l'ennemi disposait de protection avant cette attaque, Canderous l'attaque une troisième fois et inflige un malus de ténacité pendant 2 tours.",
                "special-attack1-title": "<u>Attaque Spéciale : Puissance de feu implacable (délai : 3)</u>",
                "special-attack1": "Inflige des dégâts physiques à tous les ennemis, ainsi qu'un malus d'attaque pendant 2 tours. Cette attaque ignore la défense.",
                "unique-ability1-title" : "<u>Capacité Unique : Vétéran Mandalorien</u>",
                "unique-ability1" : "Au début de l'affrontement, Canderous obtient un bonus de 10% de vol de santé et de pouvoir pour chaque allié Vaurien, Mandalorien et de l'Ancienne République. Lorsque Canderous inflige des dégâts à un ennemi, il inflige aussi un effet de dégâts sur la durée pendant 2 tours.",
                "unique-ability2-title" : "<u>Capacité Unique : J'aime les défis</u>",
                "unique-ability2" : "Canderous inflige +50% de dégâts avec Assaut interminable et Puissance de feu implacable aux ennemis qui utilise la Raillerie, qui subissent Marque de mort ou Marque. Lorsqu'un ennemi subit une attaque, la jauge de tour de Canderous se remplit de 8%. Lorsqu'un ennemi utilise Raillerie, qu'il subit Marque de mort ou Marque, Canderous obtient un bonus de chances de coup critique et de dégâts critique pendant 2 tours."
            };

            const originalTexts = {};

            function saveOriginalTexts() {
                for (const id in translationsFr) {
                    const el = document.getElementById(id);
                    if (el) originalTexts[id] = el.innerHTML;
                }
            }

            function replaceNewLinesWithBr(text) {
                return text.replace(/\n\s*\n/g, '<br><br>').replace(/([^\n])\n([^\n])/g, '$1<br>$2');
            }

            function switchLanguageTo(lang) {
                sessionStorage.setItem("selectedLanguage", lang);

                if (lang === "fr") {
                    for (const [id, text] of Object.entries(translationsFr)) {
                        const el = document.getElementById(id);
                        if (el) el.innerHTML = replaceNewLinesWithBr(text);
                    }
                } else if (lang === "en") {
                    for (const [id, text] of Object.entries(originalTexts)) {
                        const el = document.getElementById(id);
                        if (el) el.innerHTML = text;
                    }
                }

                updateFlagActive();
            }

            function updateFlagActive() {
                const lang = sessionStorage.getItem("selectedLanguage") || "en";
                document.getElementById("lang-en").style.borderColor = (lang === "en" ? "#007bff" : "transparent");
                document.getElementById("lang-fr").style.borderColor = (lang === "fr" ? "#007bff" : "transparent");
            }

            // ✅ Tout est dans "load" → le DOM est prêt avant exécution
            window.addEventListener("load", () => {
                saveOriginalTexts();
                const lang = sessionStorage.getItem("selectedLanguage") || "en";
                switchLanguageTo(lang);

                document.getElementById("lang-fr").addEventListener("click", () => switchLanguageTo("fr"));
                document.getElementById("lang-en").addEventListener("click", () => switchLanguageTo("en"));
            });
        </script>


    </footer>
</body>

</html>