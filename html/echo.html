<!DOCTYPE html>
<html lang="en">

<head>
    <title id="big-title">Echo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="author" content="Rimbault Enzo">
    <link rel="icon" type="image/png" href="../image-perso/echo/echo-image.png">
    <link rel="stylesheet" href="../style/unit-style.css">
</head>

<body class="simple">
    <header class="perso" style="display: flex; align-items: center;">
        <div style="flex: 0 0 20%; display: flex; justify-content: center; align-items: center;">
            <img src="../image-perso/echo/echo-image.png" alt="Echo" style="max-width: 100%; max-height: 100%;">
        </div>
        <div style="flex: 1; padding-left: 20px;">
            <!-- Sélecteur de langue -->
            <div class="language-switcher">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Flag_of_France.svg" alt="Français"
                    id="lang-fr"
                    style="cursor:pointer; width:32px; height:32px; border:2px solid transparent; border-radius:50%;">
                <img src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg" alt="English"
                    id="lang-en"
                    style="cursor:pointer; width:32px; height:32px; border:2px solid transparent; border-radius:50%;">
            </div>

            <h1 id="title"><u>Echo</u></h1>
            <p id="description">Loyal Clone Trooper who supports his allies in battle.</p>
            <br>

            <nav class="perso" style="font-size: 20px;">
                <a class="capacite" href="../classement-perso/coté-lumineux.html" style="color: blue !important;" id="lightside">Light Side</a>
                <a class="class" href="../classement-perso/soutien.html" id="support">Support</a>
                <a class="capacite" href="../classement-perso/bad-batch.html" id="bad-batch">Bad Batch</a>
                <a class="capacite" href="../classement-perso/soldat-clone.html" id="clone">Clone Trooper</a>
                <a class="capacite" href="../classement-perso/république-galactique.html" id="galactic-republic">Galactic Republic</a>
            </nav>
        </div>
    </header>
    <br>

    <img class="first" src="../image-perso/echo/echo.png" alt="Echo"><br>

    <!-- Capacités -->
    <h2 class="titre" id="basic-attack-title"><u>Basic Attack: Daring Defense</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Echo Basic" src="../image-perso/echo/echo-basic.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="basic-attack">
                Deal Physical damage to target enemy. Grant Defense Up and Evasion Up for 2 turns to the weakest Clone
                Trooper ally who doesn't have them.
            </p>
        </div>
    </div>

    <h2 class="titre" id="special-attack1-title"><u>Special Attack: One Step Ahead (cooldown: 3)</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Echo spé" src="../image-perso/echo/echo-spe1.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="special-attack1">
                Inflict Buff Immunity on target enemy for 2 turns. Inflict Expose on all enemies for 2 turns.<br><br>
                Dispel all debuffs on target other Clone Trooper ally and call them to assist. If that ally was Bad
                Batch, this Buff Immunity can't be dispelled, and Echo increases the target enemy's cooldowns by 1
                (excludes Galactic Legends). This attack can't be evaded.
            </p>
        </div>
    </div>

    <h2 class="titre" id="special-attack2-title"><u>Special Attack: Never Any Doubt (cooldown: 3)</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Echo spé 2" src="../image-perso/echo/echo-spe2.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="special-attack2">
                Clone Trooper allies gain Evasion Up for 2 turns. Dispel all buffs on all enemies and inflict Daze and
                Healing Immunity for 2 turns.<br><br>
                For each buff dispelled, Clone Trooper allies gain 10% Offense until the end of their next turn and Bad
                Batch allies gain 5% Turn Meter. This attack can't be evaded or resisted.
            </p>
        </div>
    </div>

    <h2 class="titre" id="unique-ability-title"><u>Unique Ability: One That Survives</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Echo unique" src="../image-perso/echo/eco-unique.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="unique-ability">
                Whenever a Clone Trooper ally gains or loses a buff from a Bad Batch ally's ability, they recover 4%
                Health and Protection, doubled for Bad Batch allies.<br><br>
                Whenever a Bad Batch ally inflicts a debuff on an enemy, that enemy loses 8% Protection. If that enemy
                had less than 50% Protection and more than 50% Health, they also lose 8% Health. This effect excludes
                raid bosses and Galactic Legends.
            </p>
        </div>
    </div>

    <footer>
        <button onclick="scrollToTop()" id="scrollBtn" title="Go to top">Top</button>
        <script src="../javascript/bouton.js"></script>

        <!-- SCRIPT DE TRADUCTION -->
        <script>
            const translationsFr = {
                    "big-title" : "Echo",
                    "title" : "<u>Echo</u>",
                    "description" : "Soldat clone loyal qui soutient ses alliés au combat.",
                    "lightside" : "Coté Lumineux",
                    "support" : "Soutien",
                    "bad-batch" : "Bad Batch",
                    "clone" : "Soldat Clone",
                    "galactic-republic" : "République Galactique",
                    "basic-attack-title" : "<u>Attaque Basique : Défense audacieuse</u>",
                    "basic-attack" : "Inflige des dégâts physiques à une cibe ennemie. Confère un bonus de défense et un bonus d'esquive pendant 2 tours au soldat clone allié le plus faible qui n'en dispose pas déjà.",
                    "special-attack1-title" : "<u>Attaque Spéciale : Un coup d'avance (délai: 3)</u>",
                    "special-attack1" : "Inflige l'immunité aux amélioration à la cible ennemie pendant 2 tours. Expose tous les ennemis pendant 2 tours.\n\nDissipe tous les affaiblissements en cours sur le soldat clone allié ciblé et l'invoque. Si cet allié fait partie du Bad Batch, cette immunité aux améliorations ne peut pas être dissipé et Echo augmente les délais de la cible ennemie de 1 (exclut les légendes galactiques). Cette attaque ne peut être esquivée.",
                    "special-attack2-title" : "<u>Attaque Spéciale : Jamais de doute (délai: 3)</u>",
                    "special-attack2" : "Les soldats clones alliés obtiennent un bonus d'esquive pendant 2 tours. Dissipe toutes les améliorations des ennemis et inflige la Confusion et l'immunité aux soins pendant 2 tours.\n\nPour chaque amélioration dissipée, les soldats clones alliés obtiennent 10 % d'attaque jusqu'à la fin de leur prochain tour, et la jauge de tour des alliés du Bat Batch se remplit de 5 %. Cette attaque ne peut pas être esquivée ou résistée.",
                    "unique-ability-title" : "<u>Capacité Unique : Un qui survit</u>",
                    "unique-ability" : "Chaque fois qu'un soldat clone allié obtient ou perd une amélioration à cause de la capacité d'un allié du Bad Batch, il récupère 4% de santé et de protection (doublé pour les alliés du Bad Batch).\n\nLorsqu'un allié du Bad Batch inflige un affaiblissement à un ennemi, ce dernier perd 8% de protection. Si cet ennemi a moins de 50% de protectionet plus de 50% de santé, il perd également 8% de santé. Cet effet exclut les boss de raid et les Légendes Galactiques.",
                };

            const originalTexts = {};

            function saveOriginalTexts() {
                for (const id in translationsFr) {
                    const el = document.getElementById(id);
                    if (el) originalTexts[id] = el.innerHTML;
                }
            }

            function replaceNewLinesWithBr(text) {
                return text.replace(/\n\s*\n/g, '<br><br>').replace(/([^\n])\n([^\n])/g, '$1<br>$2');
            }

            function switchLanguageTo(lang) {
                sessionStorage.setItem("selectedLanguage", lang);

                if (lang === "fr") {
                    for (const [id, text] of Object.entries(translationsFr)) {
                        const el = document.getElementById(id);
                        if (el) el.innerHTML = replaceNewLinesWithBr(text);
                    }
                } else if (lang === "en") {
                    for (const [id, text] of Object.entries(originalTexts)) {
                        const el = document.getElementById(id);
                        if (el) el.innerHTML = text;
                    }
                }

                updateFlagActive();
            }

            function updateFlagActive() {
                const lang = sessionStorage.getItem("selectedLanguage") || "en";
                document.getElementById("lang-en").style.borderColor = (lang === "en" ? "#007bff" : "transparent");
                document.getElementById("lang-fr").style.borderColor = (lang === "fr" ? "#007bff" : "transparent");
            }

            window.addEventListener("load", () => {
                saveOriginalTexts();
                const lang = sessionStorage.getItem("selectedLanguage") || "en";
                switchLanguageTo(lang);

                document.getElementById("lang-fr").addEventListener("click", () => switchLanguageTo("fr"));
                document.getElementById("lang-en").addEventListener("click", () => switchLanguageTo("en"));
            });
        </script>
    </footer>
</body>

</html>
