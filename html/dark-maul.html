<!DOCTYPE html>
<html lang="en">

<head>
    <title id="big-title">Darth Maul</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="author" content="Rimbault Enzo">
    <link rel="icon" type="image/png" href="../image-perso/dark-maul/dark-maul-image.png">
    <link rel="stylesheet" href="../style/unit-style.css">
</head>

<body class="simple">
    <header class="perso" style="display: flex; align-items: center;">
        <div style="flex: 0 0 20%; display: flex; justify-content: center; align-items: center;">
            <img src="../image-perso/dark-maul/dark-maul-image.png" alt="Darth Maul" style="max-width: 100%; max-height: 100%;">
        </div>
        <div style="flex: 1; padding-left: 20px;">
            <!-- Sélecteur de langue -->
            <div class="language-switcher">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Flag_of_France.svg" alt="Français"
                    id="lang-fr"
                    style="cursor:pointer; width:32px; height:32px; border:2px solid transparent; border-radius:50%;">
                <img src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg" alt="English"
                    id="lang-en"
                    style="cursor:pointer; width:32px; height:32px; border:2px solid transparent; border-radius:50%;">
            </div>

            <h1 id="title"><u>Darth Maul</u></h1>
            <p id="description">
                Deadly Attacker that gains power and extra turns as enemies are defeated
            </p>
            <br>

            <nav class="perso" style="font-size: 20px;">
                <a class="capacite" style="color: red !important" href="../classement-perso/coté-obscur.html" id="darkside">Dark Side</a>
                <a class="class" href="../classement-perso/attaquant.html" id="attacker">Attacker</a>
                <a class="capacite" href="../classement-perso/chef.html" id="leader">Leader</a>
                <a class="capacite" href="../classement-perso/sith.html" id="sith">Sith</a>
            </nav>

            <!-- lien vers le vaisseaux -->
            <section class="header-ship">
                <a href="../html/scimitar.html" class="ship-link">
                    <img class="ship-image main-image" src="../image-vaisseaux/scimitar/scimitar-image.png" alt="Scimitar">
                </a>
                <h2 class="vaisseaux" id="ship-title">
                    <u>Ship: Scimitar</u>
                </h2>
            </section>
        </div>
    </header>
    <br>

    <img class="first" src="../image-perso/dark-maul/dark-maul.png" alt="Darth Maul"><br>

    <!-- Capacités -->

    <h2 class="titre" id="basic-attack-title"><u>Basic Attack: Raging Storm</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Darth Maul Basic" src="../image-perso/dark-maul/dark-maul-basic.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="basic-attack">
                Deal Physical damage to target enemy. On a finishing blow, gain 100% Turn Meter and Offense Up for 2 turns. This attack deals double damage to Jedi.
            </p>
        </div>
    </div>

    <h2 class="titre" id="special-attack1-title"><u>Special Attack : Whirling Blades (cooldown: 3)</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Darth Maul special" src="../image-perso/dark-maul/dark-maul-spe.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="special-attack1">
                Deal Physical damage to all enemies and inflict Daze for 2 turns. This attack deals double damage to Jedi.
            </p>
        </div>
    </div>

    <h2 class="titre"><u id="unique-ability1-title">Unique Ability : Dancing Shadows</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Darth Maul unique" src="../image-perso/dark-maul/dark-maul-unique.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="unique-ability1">
                All Sith allies gain 20% Evasion, gain 20% Turn Meter and Stealth for 1 turn at the start of each encounter and whenever they Evade or are Critically Hit, can't be Critically Hit while Stealthed, and gain Advantage for 2 turns whenever Stealth expires. The Stealth and Turn Meter from this ability ignores Taunting allies.
            </p>
        </div>
    </div>

    <h2 class="titre"><u id="unique-ability2-title">Unique Ability : Power of Hatred</u></h2>
    <div class="capacity-container">
        <div class="left-column">
            <img class="attaque" alt="Darth Maul unique" src="../image-perso/dark-maul/dark-maul-unique2.png">
        </div>
        <div class="right-column">
            <p class="attaque" id="unique-ability2">
                Darth Maul gains 20% Max Health, gains Max Health equal to 10% of the damage he deals, and Potency equal to 0.3% of his Max Health. Whenever an enemy is defeated, Darth Maul gains bonuses for the rest of the encounter.
                <br><br>
                First Enemy: 25% Critical Chance<br>
                Second Enemy: 25% Evasion<br>
                Third Enemy: 25% Max Health recovery on hitting with an attack
            </p>
        </div>
    </div>

    <footer>
        <button onclick="scrollToTop()" id="scrollBtn" title="Go to top">Top</button>
        <script src="../javascript/bouton.js"></script>

        <!-- SCRIPT DE TRADUCTION -->
        <script>
            // Dictionnaire français
            const translationsFr = {
                "big-title": "Dark Maul",
                "title": "<u>Dark Maul</u>",
                "description": "Attaquant meurtrier qui gagne de la puissance et des tours supplémentaires lorsque des ennemis sont vaincus.",
                "darkside": "Coté Obscur",
                "attacker": "Attaquant",
                "leader": "Chef",
                "sith": "Sith",

                "basic-attack-title": "<u>Attaque Basique: Tempête déchaînée</u>",
                "basic-attack": "Inflige des dégâts physiques à une cible ennemie. En cas de coup de grâce, confère un accroissement de la jauge de tour de 100 % et n bonus d'attaque pendant 2 tours. Cette attaque inflige le double de dégâts aux Jedi.",

                "special-attack1-title": "<u>Attaque Spéciale : Tourbillon de lames (délai : 3)</u>",
                "special-attack1": "Inflige des dégâts physiques à tous les ennemis et les rend confus pendant 2 tours. Cette attaque inflige le double de dégâts aux Jedi.",

                "unique-ability1-title": "<u>Capacité Unique : Ténèbres dansantes</u>",
                "unique-ability1": "Tous les alliés Sith gagnent un bonus d'esquive de 20 %, leur jauge de tour se remplit de 20 % et ils obtiennent le camouflage pendant 1 tour au début de chaque affrontement et à chaque fois qu'ils esquivent une attaque ou qu'ils subissent un coup critique. Les alliés Sith ne peuvent pas subir de coup critique lorsqu'ils sont sous camouflage, et ils obtiennent l'Avantage pendant 2 tours lorsque le camouflage expire. Les effets de camouflage et de jauge de tour de cette capacité ignorent les alliés qui utilisent Raillerie.",

                "unique-ability2-title": "<u>Capacité Unique : Pouvoir de la haine</u>",
                "unique-ability2": "Dark Maul gagne 20 % de sa santé maximale égal à 10 % des dégâts qu'il inflige et un bonus de pouvoir égal à 0,3 % de sa santé maximale. Chaque fois qu'un ennemi est vaincu, Dark Maul obtient des bonus pour le reste de l'affrontement.\n\nPremier ennemi : 25 % de chances de coup critique.\nDeuxième ennemi : 25 % d'esquive.\nTroisième ennemi : 25 % de récupération de santé maximale en cas d'attaque réussie.",

                "ship-title": "<u>Vaisseau : Cimeterre</u>"
            };

            const originalTexts = {};

            function saveOriginalTexts() {
                for (const id in translationsFr) {
                    const el = document.getElementById(id);
                    if (el) originalTexts[id] = el.innerHTML;
                }
            }

            function replaceNewLinesWithBr(text) {
                return text.replace(/\n\s*\n/g, '<br><br>').replace(/([^\n])\n([^\n])/g, '$1<br>$2');
            }

            function switchLanguageTo(lang) {
                sessionStorage.setItem("selectedLanguage", lang);

                if (lang === "fr") {
                    for (const [id, text] of Object.entries(translationsFr)) {
                        const el = document.getElementById(id);
                        if (el) el.innerHTML = replaceNewLinesWithBr(text);
                    }
                } else if (lang === "en") {
                    for (const [id, text] of Object.entries(originalTexts)) {
                        const el = document.getElementById(id);
                        if (el) el.innerHTML = text;
                    }
                }

                updateFlagActive();
            }

            function updateFlagActive() {
                const lang = sessionStorage.getItem("selectedLanguage") || "en";
                document.getElementById("lang-en").style.borderColor = (lang === "en" ? "#007bff" : "transparent");
                document.getElementById("lang-fr").style.borderColor = (lang === "fr" ? "#007bff" : "transparent");
            }

            // ✅ Tout est dans "load" → le DOM est prêt avant exécution
            window.addEventListener("load", () => {
                saveOriginalTexts();
                const lang = sessionStorage.getItem("selectedLanguage") || "en";
                switchLanguageTo(lang);

                document.getElementById("lang-fr").addEventListener("click", () => switchLanguageTo("fr"));
                document.getElementById("lang-en").addEventListener("click", () => switchLanguageTo("en"));
            });
        </script>

    </footer>
</body>

</html>